<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>RigNavi MVP</title>
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
<style>
  :root{
    --bg1:#eff9ff; --bg2:#e9f5ff;
    --ink:#0b2531; --muted:#5a7b8c;
    --glass:#ffffffc9; --line:#d8e9f3;
    --card:#ffffff; --chip:#f4faff;
    --accent:#12b6ff; --accent-ink:#013449;
    --ok:#10b981;
  }
  *{box-sizing:border-box} html,body{height:100%}
  body{
    margin:0; color:var(--ink);
    font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:linear-gradient(180deg,var(--bg1),var(--bg2));
  }
  header{
    position:sticky; top:0; z-index:10;
    display:flex; align-items:center; justify-content:space-between;
    padding:14px 18px; backdrop-filter:saturate(140%) blur(10px);
    background:var(--glass); border-bottom:1px solid var(--line);
  }
  .brand{font-weight:800; letter-spacing:.1px; display:flex; gap:8px; align-items:center}
  .brand i{font-style:normal; font-size:18px}
  .badge{background:#d6f4ff; color:#067; padding:6px 10px; border-radius:999px; font-size:12px}
  main{max-width:980px; margin:0 auto; padding:16px}
  #hello{margin:4px 0 16px; color:var(--muted)}
  .steps{display:flex; gap:8px; flex-wrap:wrap; margin-bottom:10px}
  .step{border:1px solid var(--line); background:var(--chip); color:var(--muted);
        border-radius:12px; padding:8px 12px; font-size:13px}
  .step.on{border-color:#bfe9ff; color:#0a4c63; background:#e8f8ff; font-weight:700}
  #back{appearance:none; border:1px solid var(--line); background:#fff; color:var(--ink);
        padding:10px 14px; border-radius:10px}
  #back[hidden]{display:none}

  .grid{display:grid; gap:12px; grid-template-columns:repeat(auto-fill,minmax(240px,1fr))}
  .card{
    background:var(--card); border:1px solid var(--line); border-radius:16px;
    padding:16px; box-shadow:0 10px 22px rgba(23,70,96,.08);
  }
  h1,h2,h3{margin:.2em 0 .5em}
  h1{font-size:26px} h3{font-size:18px}
  .muted{color:var(--muted)}
  .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
  .chips{display:flex; flex-wrap:wrap; gap:10px; margin-top:8px}
  .chip,button{appearance:none; border:none; cursor:pointer; border-radius:12px; padding:12px 14px; font-size:15px}
  .chip{background:var(--chip)}
  button.pri{background:var(--accent); color:var(--accent-ink); font-weight:800}
  button.ghost{background:#fff; border:1px solid var(--line)}
  a{color:#007fb3}
  ul.items{padding-left:18px; margin:8px 0}
  ul.items li{margin:10px 0}
  .kv{display:flex; gap:10px; flex-wrap:wrap; margin:.6rem 0}
  .kv span{background:#f6fbff; border:1px solid var(--line); border-radius:999px; padding:6px 10px; font-size:12px}
  .hero{background:linear-gradient(135deg,#e8f7ff,#ffffff); border:1px dashed var(--line); border-radius:16px; padding:12px; margin-bottom:12px}
  .banner{width:100%; border-radius:14px; border:1px solid var(--line); display:block}
  .shops{display:flex; gap:8px; flex-wrap:wrap; margin-top:6px}
  .shop{padding:8px 10px; border-radius:10px; background:#fff; border:1px solid var(--line); font-size:14px}
  .cap{font-size:13px; color:var(--muted); margin:4px 0 8px}
  .sectionTitle{margin-top:12px; margin-bottom:6px; font-weight:800}

  .params{display:flex; gap:8px; flex-wrap:wrap; margin:8px 0 10px}
  .param{display:inline-flex; align-items:center; gap:6px; background:#fff; border:1px solid var(--line);
         padding:8px 10px; border-radius:999px; font-size:13px}
  .param b{font-weight:800; color:#055}
  .method-chips .chip.on{background:#e8f8ff; border:1px solid #bfe9ff; font-weight:700}
</style>
</head>
<body>
<header>
  <div class="brand"><i>ğŸ£</i>RigNavi</div>
  <div class="badge">MVP</div>
</header>

<main>
  <div id="hello">èµ·å‹•ä¸­â€¦</div>

  <div class="row" style="justify-content:space-between">
    <div class="steps" id="steps"></div>
    <button id="back" class="ghost" hidden onclick="goBack()">æˆ»ã‚‹</button>
  </div>

  <div id="app"></div>
</main>

<script>
/* ===== åŸºæœ¬è¨­å®š ===== */
const LIFF_ID = "2008257307-RwPLYWG1";
const VERSION = "10";

/* ========= æ±ç”¨ï¼šã‚¹ãƒ©ã‚° & ç°¡æ˜“ãƒªãƒ³ã‚¯ç”Ÿæˆ ========= */
function toSlug(s){ return (s||'').toString().toLowerCase().replace(/[^\wã-ã‚“ã‚¡-ãƒ³ä¸€-é¾¯ãƒ¼]+/g,'-'); }
function q(s){ return encodeURIComponent(s); }
function linkAmazon(keyword){ return `https://www.amazon.co.jp/s?k=${q(keyword)}&tag=YOURID-22`; }
function linkRakuten(keyword){ return `https://search.rakuten.co.jp/search/mall/${q(keyword)}/?scid=af_pc_etc&icm_cid=YOUR_RAKUTEN_ID`; }

/* ========= é‡£æ³•â†’ä»£è¡¨ã‚®ã‚¢èªå½™ï¼ˆè‡ªå‹•ã§å•†å“æ¤œç´¢ãƒªãƒ³ã‚¯åŒ–ï¼‰ ========= */
const METHOD_GEAR = {
  "ã‚µãƒ“ã‚­":["ã‚µãƒ“ã‚­ ä»•æ›ã‘","ãƒˆãƒªãƒƒã‚¯ã‚µãƒ“ã‚­","ã‚µãƒ“ã‚­ç”¨ã‚«ã‚´"],
  "ãƒ­ã‚±ãƒƒãƒˆã‚µãƒ“ã‚­":["ãƒ­ã‚±ãƒƒãƒˆã‚«ã‚´ å¤©ç§¤","ã‚µãƒ“ã‚­ ä»•æ›ã‘"],
  "ã¡ã‚‡ã„æŠ•ã’":["ã¡ã‚‡ã„æŠ•ã’ ä»•æ›ã‘ 5å·","ãƒŠã‚¹å‹ã‚ªãƒ¢ãƒª 5ã€œ10å·"],
  "æŠ•ã’":["æŠ•ã’é‡£ã‚Š ä»•æ›ã‘ å¤©ç§¤","ã‚¸ã‚§ãƒƒãƒˆå¤©ç§¤ 15ã€œ25å·"],
  "é æŠ•ã‚«ã‚´":["é æŠ•ã‚«ã‚´ ä»•æ›ã‘","ã‚«ã‚´ ã‚¦ã‚­ ä»•æ›ã‘"],
  "ã‚¦ã‚­":["æ£’ã‚¦ã‚­ ä»•æ›ã‘","ã‚¦ã‚­æ­¢ã‚ ã‚´ãƒ "],
  "å°ã‚¦ã‚­":["å°å‹ ç‰ã‚¦ã‚­ 0.5ã€œ1å·","ã‚·ãƒ¢ãƒªç‰"],
  "ãƒ•ã‚«ã‚»":["ãƒ•ã‚«ã‚» ä»•æ›ã‘","é…åˆã‚¨ã‚µ ã‚ªã‚­ã‚¢ãƒŸ"],
  "ãƒŸãƒ£ã‚¯é‡£ã‚Š":["ãƒãƒªã‚¹ 0.6ã€œ1å·","ã‚¬ãƒ³ç‰ ã‚»ãƒƒãƒˆ"],
  "èƒ´çªã":["èƒ´çªã ä»•æ›ã‘","ã‚ªãƒ¢ãƒª 8ã€œ15å·"],
  "ãƒ–ãƒ©ã‚¯ãƒª":["ãƒ–ãƒ©ã‚¯ãƒª 5ã€œ8å·","æ ¹é­šãƒ¯ãƒ¼ãƒ "],
  "ãƒ˜ãƒãƒ»è½ã¨ã—è¾¼ã¿":["ãƒ˜ãƒ ä»•æ›ã‘","ã‚¬ãƒ³ç‰","è½ã¨ã—è¾¼ã¿ ç«¿"],
  "ã¶ã£ã“ã¿":["ã¶ã£ã“ã¿ ä»•æ›ã‘ å¤œå…‰éˆ´","ã‚¸ã‚§ãƒƒãƒˆå¤©ç§¤ 25å·"],
  "ãƒ«ã‚¢ãƒ¼":["ãƒŸãƒãƒ¼ 9ã€œ12cm","ãƒã‚¤ãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ 14ã€œ26g","ãƒ¡ã‚¿ãƒ«ã‚¸ã‚° 20ã€œ40g"],
  "ãƒ«ã‚¢ãƒ¼(è»½é‡)":["ã‚¢ã‚¸ãƒ³ã‚° ã‚¸ã‚°ãƒ˜ãƒƒãƒ‰ 1g","æ¥µå°ãƒ¯ãƒ¼ãƒ "],
  "ã‚¸ã‚®ãƒ³ã‚°":["ãƒ¡ã‚¿ãƒ«ã‚¸ã‚° 40ã€œ60g","ã‚¢ã‚·ã‚¹ãƒˆãƒ•ãƒƒã‚¯"],
  "ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼":["ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼ ä»•æ›ã‘","æ´»ã‹ã—ãƒãƒƒã‚«ãƒ³ ã‚¨ã‚¢ãƒãƒ³ãƒ—"],
  "ã‚¨ã‚®ãƒ³ã‚°":["ã‚¨ã‚® 2.5ã€œ3.5å·","ã‚¨ã‚®ã‚¹ãƒŠãƒƒãƒ—"],
  "ãƒ†ãƒ³ãƒ¤":["ãƒ†ãƒ³ãƒ¤ å¤ªåˆ€é­š","ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒªãƒ¼ãƒ€ãƒ¼"],
  "ãƒ¯ã‚¤ãƒ³ãƒ‰":["å¤ªåˆ€é­š ãƒ¯ã‚¤ãƒ³ãƒ‰ ã‚»ãƒƒãƒˆ","ãƒ¯ã‚¤ãƒ³ãƒ‰ ãƒ˜ãƒƒãƒ‰"],
  "ãƒã‚¼ã‚¯ãƒ©":["ãƒã‚¼ ã‚¯ãƒ©ãƒ³ã‚¯","æ¥µå°ã‚¹ãƒŠãƒƒãƒ—"]
};

/* ========= é‡£æ³•â†’é¤Œ/æ’’ãé¤Œï¼ˆé‡£æ³•åˆ¥ï¼‰ ========= */
const BAIT_BY_METHOD = {
  "ã‚µãƒ“ã‚­":["ã‚¢ãƒŸã‚¨ãƒ“ å¸¸æ¸©ï¼ˆã‚¢ãƒŸå§«ï¼‰","ã‚³ãƒã‚»ã‚¹ãƒ—ãƒ¼ãƒ³"],
  "ãƒ­ã‚±ãƒƒãƒˆã‚µãƒ“ã‚­":["ãƒ­ã‚±ãƒƒãƒˆã‚«ã‚´","ã‚¢ãƒŸã‚¨ãƒ“"],
  "ãƒ•ã‚«ã‚»":["ã‚ªã‚­ã‚¢ãƒŸ","é…åˆã‚¨ã‚µ ã‚°ãƒ¬ç”¨ç­‰"],
  "ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼":["æ´»ã‚¢ã‚¸/å°é­š","æ´»ã‹ã—ãƒã‚±ãƒ„"],
  "èƒ´çªã":["é’ã‚¤ã‚½ãƒ¡","ã‚¤ã‚«çŸ­å†Š"],
  "ã¶ã£ã“ã¿":["é’ã‚¤ã‚½ãƒ¡æŸ","å¤œå…‰éˆ´"],
  "ãƒŸãƒ£ã‚¯é‡£ã‚Š":["ã‚¬ãƒ³ç‰","å°é‡ 6ã€œ7å·"],
  "ã‚¦ã‚­":["ã‚¦ã‚­æ­¢ã‚ç³¸","å¤œå…‰ã‚¦ã‚­"],
  "å°ã‚¦ã‚­":["å°ç‰ã‚¦ã‚­","ã‚·ãƒ¢ãƒªç‰"],
  "ãƒ†ãƒ³ãƒ¤":["ã‚­ãƒ“ãƒŠã‚´","ã‚µãƒ³ãƒåˆ‡ã‚Šèº«"],
  "ãƒ¯ã‚¤ãƒ³ãƒ‰":["å¤ªåˆ€é­šãƒ¯ã‚¤ãƒ³ãƒ‰ãƒ¯ãƒ¼ãƒ "],
  "ãƒã‚¼ã‚¯ãƒ©":["å°å‹ã‚¯ãƒ©ãƒ³ã‚¯","æ¥µå°ã‚¹ãƒŠãƒƒãƒ—"]
};

/* ========= é­šç”»åƒï¼ˆä»®ï¼‰ & ä»•æ›ã‘ã‚¤ãƒ©ã‚¹ãƒˆã®å„ªå…ˆè¦å‰‡ ========= */
const FISH_IMG_FALLBACK = "https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=1200&auto=format&fit=crop";
const FISH_IMAGES = {}; // ä»»æ„ï¼šimg/fish-<slug>.png ã‚’ç½®ã‘ã°è‡ªå‹•è¡¨ç¤ºã€ãªã‘ã‚Œã° Unsplashç³»ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
function fishImg(f){
  const local = `img/fish-${toSlug(f)}.png`;
  return local; // å®Ÿåœ¨åˆ¤å®šã¯ã§ããªã„ãŸã‚ onerror ã§éè¡¨ç¤ºâ†’ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
}
function rigImg(fish,method){
  const m = method||"";
  const localSpecific = `img/rig-${toSlug(fish)}-${toSlug(m)}.png`;
  const localGeneric  = `img/rig-${toSlug(m)}.png`;
  const placeholder = "https://placehold.co/1200x600?text=Rig+Illustration";
  // å®Ÿåœ¨åˆ¤å®šã¯ã§ããªã„ã®ã§ local ã‚’è¿”ã—ã¦ onerror ã§æ¬¡ã¸
  return {specific:localSpecific, generic:localGeneric, placeholder};
}

/* ========= é­šç¨®ãƒ‡ãƒ¼ã‚¿ï¼ˆã„ãŸã ã„ãŸãƒªã‚¹ãƒˆã‚’åæ˜ ï¼‰ =========
   season/time/shelf/methods/bait/lures/food/gear(ä»»æ„) */
const FISH_BOOK = {
  /* å°å‹å›éŠé­šãƒ»ãƒ™ã‚¤ãƒˆç³» */
  "è±†ã‚¢ã‚¸": {season:"åˆå¤ã€œç§‹ï¼ˆ6â€“11æœˆï¼‰", time:"æœå¤•ãƒã‚ºãƒ¡ï¼å¤œã®å¸¸å¤œç¯", shelf:"è¡¨å±¤ã€œä¸­å±¤ï¼ˆå¸¸å¤œç¯ç›´ä¸‹ã¯æµ…ã‚ï¼‰",
             methods:["ã‚µãƒ“ã‚­","ã‚¦ã‚­","ãƒ­ã‚±ãƒƒãƒˆã‚µãƒ“ã‚­","ã¡ã‚‡ã„æŠ•ã’"], bait:["ã‚¢ãƒŸã‚¨ãƒ“"],
             lures:["ãƒã‚¤ã‚¯ãƒ­ã‚¸ã‚°","0.5â€“1g ã‚¸ã‚°ãƒ˜ãƒƒãƒ‰ï¼‹æ¥µå°ãƒ¯ãƒ¼ãƒ "], food:"å—è›®æ¼¬ã‘ï¼å”æšã’",
             gear:["æ¥µå°ã‚µãƒ“ã‚­ 0.5â€“1å·","ã‚¦ã‚­ã‚µãƒ“ã‚­"]},
  "ã‚¢ã‚¸": {season:"åˆå¤ã€œç§‹ï¼ˆè¶Šå†¬ç¾¤ã‚Œã‚‚ï¼‰", time:"æœå¤•ï¼å¤œå¸¸å¤œç¯", shelf:"ä¸­å±¤ã€œåº•å¯„ã‚Šï¼ˆèˆ¹é“ãƒ»æ½®ç›®ãƒ»æ˜æš—ï¼‰",
           methods:["ã‚µãƒ“ã‚­","ãƒ­ã‚±ãƒƒãƒˆã‚µãƒ“ã‚­","ã‚¦ã‚­","ã¡ã‚‡ã„æŠ•ã’","é æŠ•ã‚«ã‚´","ãƒ«ã‚¢ãƒ¼(è»½é‡)"],
           bait:["ã‚¢ãƒŸã‚¨ãƒ“","ã‚ªã‚­ã‚¢ãƒŸ","é’ã‚¤ã‚½ãƒ¡"], lures:["1â€“2g ã‚¸ã‚°ãƒ˜ãƒƒãƒ‰ï¼‹ãƒ¯ãƒ¼ãƒ ","7â€“20g ãƒ¡ã‚¿ãƒ«","ãƒ•ãƒ­ãƒ¼ãƒˆ/ã‚­ãƒ£ãƒ­"],
           food:"åˆºèº«ï¼ãªã‚ã‚ã†ï¼ãƒ•ãƒ©ã‚¤ï¼å—è›®æ¼¬ã‘"},
  "ã‚¤ãƒ¯ã‚·": {season:"æ˜¥ã€œç§‹", time:"æœå¤•ä¸­å¿ƒï¼ˆç¾¤ã‚Œæ¬¡ç¬¬ï¼‰", shelf:"è¡¨å±¤ã€œä¸­å±¤ï¼ˆæ½®ç›®ãƒ»æ˜æš—ï¼‰",
            methods:["ã‚µãƒ“ã‚­","ã‚¦ã‚­"], bait:["ã‚¢ãƒŸã‚¨ãƒ“"], lures:["ãƒã‚¤ã‚¯ãƒ­ã‚¸ã‚°","å°ã‚¹ãƒ—ãƒ¼ãƒ³"], food:"åˆºèº«ï¼å¤©ã·ã‚‰ï¼æ¢…ç…®ï¼é…¢æ¼¬ã‘"},
  "ã‚µãƒƒãƒ‘": {season:"å¤ã€œç§‹", time:"æ—¥ä¸­ã€œå¤œï¼ˆå¸¸å¤œç¯ï¼‰", shelf:"è¡¨å±¤ã€œä¸­å±¤",
            methods:["ã‚µãƒ“ã‚­","ã‚¦ã‚­"], bait:["ã‚¢ãƒŸã‚¨ãƒ“"], lures:["å°å‹ã‚¸ã‚°","ãƒŸãƒãƒ¼"], food:"å—è›®æ¼¬ã‘ï¼é…¢ç· ã‚"},
  "ã‚³ãƒãƒ€": {season:"åˆå¤ã€œç§‹", time:"æœå¤•ã€œå¤œ", shelf:"è¡¨å±¤ã€œä¸­å±¤ï¼ˆç¾¤ã‚Œæ‰“ã¡ï¼‰",
            methods:["ã‚µãƒ“ã‚­","ã‚¦ã‚­","ã‚«ã‚´"], bait:["ã‚¢ãƒŸã‚¨ãƒ“"], lures:["å°å‹ãƒ¡ã‚¿ãƒ«","ãƒŸãƒãƒ¼"], food:"é…¢ç· ã‚"},
  "ã‚³ãƒã‚·ãƒ­": {season:"åˆå¤ã€œæ™©ç§‹", time:"æœå¤•ã€œå¤œ", shelf:"è¡¨å±¤ã€œä¸­å±¤",
            methods:["ã‚µãƒ“ã‚­","ã‚¦ã‚­","ã‚«ã‚´"], bait:["ã‚¢ãƒŸã‚¨ãƒ“"], lures:["å°å‹ãƒ¡ã‚¿ãƒ«","ãƒŸãƒãƒ¼"], food:"å—è›®æ¼¬ã‘ï¼é…¢ç· ã‚"},
  "ã‚µãƒ": {season:"å¤ã€œç§‹", time:"æœå¤•", shelf:"ä¸­å±¤ï¼ˆæ½®ç›®ç›´æ’ƒï¼‰",
          methods:["é æŠ•ã‚«ã‚´","ã‚µãƒ“ã‚­","ã‚¸ã‚®ãƒ³ã‚°"], bait:["ã‚ªã‚­ã‚¢ãƒŸ","ã‚¢ãƒŸã‚¨ãƒ“"], lures:["20â€“40g ãƒ¡ã‚¿ãƒ«","ãƒŸãƒãƒ¼","ãƒã‚¤ãƒ–"], food:"å¡©ç„¼ãï¼å‘³å™Œç…®ï¼ã—ã‚é¯–â€»è¦å†·å‡"},
  "ã‚µãƒ¨ãƒª": {season:"ç§‹ã€œå†¬", time:"æ—¥ä¸­ã€œå¤•ï¼ˆå‡ªâ—ï¼‰", shelf:"è¡¨å±¤",
           methods:["ã‚¦ã‚­","é æŠ•ã‚«ã‚´"], bait:["ã‚µã‚µãƒŸèµ¤æŸ“ã‚","ã‚¢ãƒŸ","ã‚ªã‚­ã‚¢ãƒŸ"], lures:["ãƒ•ãƒ­ãƒ¼ãƒˆï¼‹æ¥µå°ã‚¸ã‚°ãƒ˜ãƒƒãƒ‰"], food:"åˆºèº«ãƒ»æ˜†å¸ƒç· ã‚ï¼å¤©ã·ã‚‰"},
  "ã‚«ãƒã‚¹": {season:"ç§‹ã€œåˆå†¬", time:"æœå¤•ï¼å¤œï¼ˆå¸¸å¤œç¯ï¼‰", shelf:"ä¸­å±¤ã€œè¡¨å±¤",
           methods:["ã‚¦ã‚­","ãƒ«ã‚¢ãƒ¼"], bait:["ã‚­ãƒ“ãƒŠã‚´","ã‚µã‚µãƒŸ"], lures:["å°å‹ãƒŸãƒãƒ¼","ãƒ¡ã‚¿ãƒ«","ã‚¸ã‚°ã‚µãƒ“ã‚­"], food:"å¡©ç„¼ãï¼ä¸€å¤œå¹²ã—ï¼ãƒ•ãƒ©ã‚¤"},

  /* æ ¹é­šãƒ»æ²¿å²¸ãƒ»åº•ç‰© */
  "ãƒ¡ãƒãƒ«": {season:"å†¬ã€œæ˜¥", time:"å¤œï¼ˆå¸¸å¤œç¯ï¼‰", shelf:"è¡¨å±¤ã€œä¸­å±¤ï¼ˆæ˜æš—ãƒ»è§’ãƒ»ä¿‚ç•™èˆ¹ï¼‰",
           methods:["ã‚¦ã‚­","èƒ´çªã","ãƒ«ã‚¢ãƒ¼(è»½é‡)"], bait:["é’ã‚¤ã‚½ãƒ¡","ã‚ªã‚­ã‚¢ãƒŸ"], lures:["0.5â€“2g ã‚¸ã‚°ãƒ˜ãƒƒãƒ‰ï¼‹ãƒ¯ãƒ¼ãƒ ","ãƒ•ãƒ­ãƒ¼ãƒˆ"], food:"ç…®ä»˜ã‘ï¼å¡©ç„¼ã"},
  "ã‚«ã‚µã‚´": {season:"é€šå¹´ï¼ˆå†¬ã€œæ˜¥â—ï¼‰", time:"å¤œæœ‰åˆ©ï¼ˆæ˜¼ã¯ç©´æ’ƒã¡ï¼‰", shelf:"åº•ï¼ˆãƒ†ãƒˆãƒ©ãƒ»æ ¹ãƒ»å£éš›ï¼‰",
           methods:["ã¡ã‚‡ã„æŠ•ã’","èƒ´çªã","ãƒ–ãƒ©ã‚¯ãƒª","ç©´é‡£ã‚Š","ãƒ†ã‚­ã‚µã‚¹"], bait:["é’ã‚¤ã‚½ãƒ¡","ã‚µãƒåˆ‡ã‚Šèº«","ã‚ªã‚­ã‚¢ãƒŸ"],
           lures:["ãƒ†ã‚­ã‚µã‚¹ï¼‹ã‚¯ãƒ­ãƒ¼/ãƒ›ãƒƒã‚°","ã‚¸ã‚°ãƒ˜ãƒƒãƒ‰"], food:"å”æšã’ï¼å‘³å™Œæ±ï¼ç…®ä»˜ã‘"},
  "ã‚¢ã‚¤ãƒŠãƒ¡": {season:"æ™©ç§‹ã€œæ˜¥", time:"æ—¥ä¸­ã€œå¤•", shelf:"åº•ï¼ˆå²©ç¤ãƒ»è—»å ´ãƒ»ãƒ†ãƒˆãƒ©ç©´ï¼‰",
           methods:["ã¡ã‚‡ã„æŠ•ã’","ãƒ–ãƒ©ã‚¯ãƒª","èƒ´çªã","å‰æ‰“ã¡"], bait:["é’ã‚¤ã‚½ãƒ¡","ã‚¨ãƒ“é¡","ã‚¤ã‚«çŸ­"], lures:["ãƒ†ã‚­ã‚µã‚¹","ã‚¸ã‚°ãƒ˜ãƒƒãƒ‰"], food:"æ˜†å¸ƒç· ã‚ï¼å¤©ã·ã‚‰ï¼ç…®ä»˜ã‘"},
  "ã‚·ãƒ­ã‚®ã‚¹": {season:"åˆå¤ã€œç§‹", time:"æ—¥ä¸­", shelf:"åº•ï¼ˆé§†ã‘ä¸ŠãŒã‚Šãƒ»é›¢å²¸æµè„‡ï¼‰",
           methods:["ã¡ã‚‡ã„æŠ•ã’","æŠ•ã’"], bait:["ã‚¸ãƒ£ãƒªãƒ¡/ã‚¤ã‚½ãƒ¡","æœ¬è™«"], lures:["è»½é‡ãƒ¡ã‚¿ãƒ«","å°‚ç”¨ãƒ¯ãƒ¼ãƒ "], food:"å¤©ã·ã‚‰ï¼ãƒ•ãƒ©ã‚¤"},
  "ã‚¤ã‚·ãƒ¢ãƒ": {season:"é™¸ã£ã±ã‚Š5â€“11æœˆ", time:"å¤œã¨æœãƒã‚ºãƒ¡ï¼ˆæ¿ã‚Šâ—ï¼‰", shelf:"åº•",
           methods:["ã¡ã‚‡ã„æŠ•ã’","èƒ´çªã"], bait:["ã‚¢ã‚ªã‚¤ã‚½ãƒ¡","ã‚¤ã‚«çŸ­"], lures:[], food:"å”æšã’ï¼å¡©ç„¼ãï¼ç…®ä»˜ã‘"},
  "ã‚«ãƒ¬ã‚¤": {season:"å†¬ã€œæ˜¥", time:"æœå¤•ï¼ˆç½®ãç«¿å¯ï¼‰", shelf:"åº•ãƒ™ãƒƒã‚¿ãƒªï¼ˆèˆ¹é“ã®ã‹ã‘ä¸ŠãŒã‚Šï¼‰",
           methods:["æŠ•ã’"], bait:["æœ¬è™«","é’ã‚¤ã‚½ãƒ¡","ã‚¢ã‚ªãƒ¤ã‚®"], lures:["ãƒ“ãƒ¼ã‚º/å¤œå…‰ç‰ï¼ˆè£…é£¾ï¼‰"], food:"ç…®ä»˜ã‘ï¼å”æšã’"},
  "ãƒ¡ã‚´ãƒ": {season:"åˆå¤ã€œç§‹", time:"æ—¥ä¸­", shelf:"åº•ï¼ˆé§†ã‘ä¸ŠãŒã‚Šï¼‰",
           methods:["ã¡ã‚‡ã„æŠ•ã’","æŠ•ã’"], bait:["ã‚¤ã‚½ãƒ¡é¡"], lures:[], food:"å¤©ã·ã‚‰ï¼ˆéª¨ã›ã‚“ã¹ã„â—)"},
  "ã‚«ãƒ¯ãƒã‚®": {season:"ç§‹ã€œå†¬ï¼ˆè‚ãƒ‘ãƒ³ï¼‰", time:"æ—¥ä¸­", shelf:"åº•ã€œä¸­å±¤ï¼ˆå®™é‡£ã‚Šã‚‚ï¼‰",
           methods:["èƒ´çªã","å®™é‡£ã‚Š"], bait:["ã‚¢ã‚µãƒªã‚€ãèº«ï¼ˆå¡©ç· ã‚ï¼‰"], lures:["å°å‹ãƒ¯ãƒ¼ãƒ å¯"], food:"è‚é†¤æ²¹åˆºã—ï¼å”æšã’ï¼ç…®ä»˜ã‘"},
  "ã‚®ãƒ": {season:"æ¢…é›¨ã€œå¤", time:"æ—¥ä¸­", shelf:"åº•ï¼ˆç ‚åœ°ï¼‰",
           methods:["ã¡ã‚‡ã„æŠ•ã’"], bait:["ã‚¤ã‚½ãƒ¡é¡"], lures:[], food:"å”æšã’ï¼å‘³å™Œæ±ï¼è‚å’Œãˆ"},

  /* ãƒã‚¼ */
  "ãƒãƒã‚¼": {season:"å¤ã€œæ™©ç§‹", time:"æ—¥ä¸­ã€œå¤•ï¼ˆæº€ã¡å¼•ãå‰å¾Œï¼‰", shelf:"åº•ï¼ˆãƒŸã‚ªç­‹ãƒ»éšœå®³ç‰©éš›ï¼‰",
           methods:["ãƒŸãƒ£ã‚¯é‡£ã‚Š","ã‚¦ã‚­","ã¡ã‚‡ã„æŠ•ã’","ãƒã‚¼ã‚¯ãƒ©"], bait:["ã‚¢ã‚ªã‚¤ã‚½ãƒ¡","ã‚¨ãƒ“èº«","ãƒ›ã‚¿ãƒ†","ã‚¤ã‚«çŸ­"],
           lures:["å°å‹ã‚¯ãƒ©ãƒ³ã‚¯","1gå‰å¾Œã‚¸ã‚°ãƒ˜ãƒƒãƒ‰"], food:"å¤©ã·ã‚‰ï¼å”æšã’ï¼ç”˜éœ²ç…®"},
  "ã‚¦ãƒ­ãƒã‚¼": {season:"å¤ã€œç§‹", time:"æ—¥ä¸­ï¼ˆæ½®ä½å¤‰åŒ–ã‚’æ„è­˜ï¼‰", shelf:"åº•ï¼ˆè­·å²¸ã‚­ãƒ¯ãƒ»æ¨çŸ³ï¼‰",
           methods:["ãƒŸãƒ£ã‚¯é‡£ã‚Š"], bait:["ã‚¢ã‚ªã‚¤ã‚½ãƒ¡","ã‚¨ãƒ“èº«"], lures:[], food:"å”æšã’ï¼å¤©ã·ã‚‰"},

  /* ãƒ•ãƒ©ãƒƒãƒˆãƒ•ã‚£ãƒƒã‚·ãƒ¥ */
  "ã‚½ã‚²": {season:"åˆå¤ã€œç§‹", time:"æœå¤•ãƒ»æ¿ã‚Šå¾Œ", shelf:"åº•ä¸Šã€œ1mï¼ˆé§†ã‘ä¸ŠãŒã‚Šãƒ»æ‰•ã„å‡ºã—ï¼‰",
           methods:["ãƒ«ã‚¢ãƒ¼","æ³³ãŒã›"], bait:["æ´»ãƒã‚¼","å°ã‚¢ã‚¸"], lures:["ãƒŸãƒãƒ¼","ã‚·ãƒ³ãƒšãƒ³","ã‚¸ã‚°ãƒ˜ãƒƒãƒ‰ï¼‹ã‚·ãƒ£ãƒƒãƒ‰"], food:"å”æšã’ï¼ãƒ ãƒ‹ã‚¨ãƒ«"},
  "ãƒ’ãƒ©ãƒ¡": {season:"æ™©ç§‹ã€œå†¬ï¼‹æ˜¥", time:"æœå¤•ãƒ»è’ã‚Œå¾Œã®å›å¾©æ™‚", shelf:"åº•ä¸Š1mä»¥å†…ï¼ˆé›¢å²¸æµãƒ»ãƒ–ãƒ¬ã‚¤ã‚¯ï¼‰",
           methods:["æ³³ãŒã›","ã¶ã£ã“ã¿","ãƒ«ã‚¢ãƒ¼"], bait:["æ´»ã‚¢ã‚¸/ã‚³ãƒã‚·ãƒ­/ãƒã‚¼","ã‚µãƒåˆ‡ã‚Šèº«"],
           lures:["ã‚·ãƒ³ã‚­ãƒ³ã‚°ãƒŸãƒãƒ¼","ã‚·ãƒ³ãƒšãƒ³","ã‚¸ã‚°ãƒ˜ãƒƒãƒ‰ï¼‹ãƒ¯ãƒ¼ãƒ ","ãƒ¡ã‚¿ãƒ«"], food:"åˆºèº«ãƒ»æ˜†å¸ƒç· ã‚ï¼ãƒ ãƒ‹ã‚¨ãƒ«"},
  "ãƒã‚´ãƒ": {season:"åˆå¤ã€œç§‹", time:"æœå¤•ã€œæ—¥ä¸­ï¼ˆå¹²æº€å‰å¾Œï¼‰", shelf:"åº•ï¼ˆé§†ã‘ä¸ŠãŒã‚Šãƒ»æ²³å£ãƒ¨ãƒ¬ï¼‰",
           methods:["æ³³ãŒã›","ã¶ã£ã“ã¿","ãƒ«ã‚¢ãƒ¼","ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼"], bait:["æ´»ãƒã‚¼","å°ã‚¢ã‚¸","ã‚µãƒåˆ‡ã‚Šèº«"],
           lures:["ã‚¸ã‚°ãƒ˜ãƒƒãƒ‰ï¼‹ãƒ¯ãƒ¼ãƒ ","ãƒã‚¤ãƒ–","ãƒ¡ã‚¿ãƒ«","ãƒ†ã‚­ã‚µã‚¹"], food:"è–„é€ ã‚Šï¼å¤©ã·ã‚‰ï¼ãƒ ãƒ‹ã‚¨ãƒ«"},

  /* ã‚¹ã‚ºã‚­ï¼ˆæˆé•·åï¼‰ */
  "ã‚»ã‚¤ã‚´": {season:"é€šå¹´ï¼ˆæ˜¥ãƒãƒ/å¤ç§‹å°ãƒ™ã‚¤ãƒˆï¼‰", time:"å¤•ãƒ»å¤œãƒ»æœãƒã‚ºãƒ¡", shelf:"è¡¨å±¤ã€œä¸­å±¤ï¼ˆæ˜æš—ãƒ»å£éš›ãƒ»è§’ï¼‰",
           methods:["ãƒ«ã‚¢ãƒ¼","ã‚¦ã‚­","ãƒŸãƒ£ã‚¯é‡£ã‚Š"], bait:["é’ã‚¤ã‚½ãƒ¡","å°é­š"], lures:["50â€“80mmãƒŸãƒãƒ¼","3â€“10gã‚¸ã‚°","ãƒ•ãƒ­ãƒ¼ãƒˆ"], food:"å”æšã’ï¼å¡©ç„¼ã"},
  "ãƒ•ãƒƒã‚³": {season:"é€šå¹´ï¼ˆç§‹æœ€ç››ï¼‰", time:"å¤•ãƒ»å¤œãƒ»æœãƒã‚ºãƒ¡", shelf:"è¡¨å±¤ã€œä¸­å±¤ï¼ˆæ½®æ›¿ã‚ã‚Šãƒ»åè»¢æµï¼‰",
           methods:["ãƒ«ã‚¢ãƒ¼","æ³³ãŒã›","ã¶ã£ã“ã¿"], bait:["æ´»ã‚¢ã‚¸/ã‚¤ãƒ¯ã‚·/ã‚³ãƒã‚·ãƒ­","é’ã‚¤ã‚½ãƒ¡"], lures:["90â€“120mmãƒŸãƒãƒ¼","ã‚·ãƒ³ãƒšãƒ³","ãƒã‚¤ãƒ–","30â€“40gã‚¸ã‚°"], food:"ãƒ ãƒ‹ã‚¨ãƒ«ï¼ãƒãƒ¯ãƒ¬ï¼å¡©ç„¼ã"},
  "ã‚¹ã‚ºã‚­": {season:"é€šå¹´ï¼ˆç§‹ãƒ™ã‚¤ãƒˆãƒ»å†¬è¶Šå†¬ï¼‰", time:"å¤•ãƒ»å¤œãƒ»æœãƒã‚ºãƒ¡", shelf:"è¡¨å±¤ã€œä¸­å±¤ï¼ˆæ‰•ã„å‡ºã—ãƒ»ãƒ¨ãƒ¬ãƒ»ãƒ–ãƒ¬ã‚¤ã‚¯ï¼‰",
           methods:["ãƒ«ã‚¢ãƒ¼","æ³³ãŒã›"], bait:["æ´»å°é­š"], lures:["120â€“140mmãƒŸãƒãƒ¼","é‡ã‚ã‚·ãƒ³ãƒšãƒ³/ãƒã‚¤ãƒ–","40gã‚¸ã‚°","ãƒ“ãƒƒã‚°ãƒ™ã‚¤ãƒˆ"], food:"æ´—ã„ï¼æ´»ã€†åˆºèº«ï¼ãƒ ãƒ‹ã‚¨ãƒ«"},

  /* ãƒ–ãƒªç³»ï¼ˆæˆé•·åï¼‰ */
  "ãƒ¯ã‚«ã‚·": {season:"åˆå¤ã€œç§‹", time:"æœãƒã‚ºãƒ¡", shelf:"è¡¨å±¤ã€œä¸­å±¤ï¼ˆæ½®ç›®ãƒ»é³¥å±±ï¼‰",
           methods:["ã‚¸ã‚®ãƒ³ã‚°","é æŠ•ã‚«ã‚´"], bait:["ã‚ªã‚­ã‚¢ãƒŸï¼ˆã‚«ã‚´ï¼‰"], lures:["30â€“40gãƒ¡ã‚¿ãƒ«","ãƒ˜ãƒ“ãƒ¼ã‚·ãƒ³ãƒšãƒ³"], food:"åˆºèº«ï¼æ¼¬ã‘ï¼ãƒ•ãƒ©ã‚¤"},
  "ã‚¤ãƒŠãƒ€": {season:"ç§‹ä¸­å¿ƒ", time:"æœãƒã‚ºãƒ¡", shelf:"è¡¨å±¤ã€œä¸­å±¤",
           methods:["ã‚¸ã‚®ãƒ³ã‚°","ãƒ—ãƒ©ãƒƒã‚®ãƒ³ã‚°","æ³³ãŒã›"], bait:["æ´»å°é­š"], lures:["40â€“60gãƒ¡ã‚¿ãƒ«","ãƒŸãƒãƒ¼"], food:"åˆºèº«ï¼ç…§ã‚Šç„¼ã"},
  "ãƒ¯ãƒ©ã‚µ": {season:"ç§‹", time:"æœãƒã‚ºãƒ¡", shelf:"ä¸­å±¤ä¸­å¿ƒ",
           methods:["ã‚¸ã‚®ãƒ³ã‚°é‡ã‚","æ³³ãŒã›"], bait:["æ´»å°é­š"], lures:["50â€“80gãƒ¡ã‚¿ãƒ«","ãƒ˜ãƒ“ãƒ¼ã‚·ãƒ³ãƒšãƒ³"], food:"åˆºèº«ï¼ç…§ã‚Šç„¼ãï¼ã‚«ãƒå¡©ç„¼ã"},
  "ãƒ–ãƒª": {season:"ç§‹ã€œåˆå†¬", time:"æœãƒã‚ºãƒ¡", shelf:"ä¸­å±¤ï¼ˆæ½®ç›®ç›´ä¸‹ï¼‰",
           methods:["ã‚¸ã‚®ãƒ³ã‚°å¤§å‹","æ³³ãŒã›"], bait:["æ´»å°é­š"], lures:["60â€“100gãƒ¡ã‚¿ãƒ«","ãƒ“ãƒƒã‚°ãƒŸãƒãƒ¼"], food:"ãƒ–ãƒªã—ã‚ƒã¶ï¼åˆºèº«ï¼ç…§ã‚Šç„¼ã"},

  /* ã‚µãƒ¯ãƒ©ç³» */
  "ã‚µã‚´ã‚·": {season:"ç§‹ï¼ˆå¹´ã«ã‚ˆã‚Šæ˜¥ï¼‰", time:"æœãƒã‚ºãƒ¡", shelf:"è¡¨å±¤é«˜é€Ÿå›éŠ",
           methods:["ã‚¸ã‚®ãƒ³ã‚°","ãƒ«ã‚¢ãƒ¼"], bait:[], lures:["40â€“60gãƒ¡ã‚¿ãƒ«","ã‚·ãƒ³ãƒšãƒ³/ãƒŸãƒãƒ¼é€Ÿå·»ã"], food:"ãƒ•ãƒ©ã‚¤ï¼ãƒ ãƒ‹ã‚¨ãƒ«"},
  "ã‚µãƒ¯ãƒ©": {season:"ç§‹ï¼ˆå¹´ã«ã‚ˆã‚Šæ˜¥ï¼‰", time:"æœãƒã‚ºãƒ¡", shelf:"è¡¨å±¤",
           methods:["ãƒ—ãƒ©ãƒƒã‚®ãƒ³ã‚°","ã‚¸ã‚®ãƒ³ã‚°"], bait:[], lures:["é‡ã‚ãƒŸãƒãƒ¼/ã‚·ãƒ³ãƒšãƒ³","ãƒ¡ã‚¿ãƒ«é«˜é€Ÿ"], food:"ç‚™ã‚Šåˆºã—ï¼è¥¿äº¬ç„¼ã"},

  /* ã‚¿ãƒã‚¦ã‚ª */
  "ã‚¿ãƒã‚¦ã‚ª": {season:"å¤å¾ŒåŠã€œæ™©ç§‹", time:"å¤•ã¾ãšã‚ã€œå¤œ", shelf:"ä¸­å±¤ã€œä¸Šå±¤ï¼ˆå½“ãŸã‚Šãƒ¬ãƒ³ã‚¸å›ºå®šï¼‰",
           methods:["ã‚¦ã‚­","ãƒ†ãƒ³ãƒ¤","ãƒ¯ã‚¤ãƒ³ãƒ‰","ã‚¸ã‚®ãƒ³ã‚°"], bait:["ã‚­ãƒ“ãƒŠã‚´","ãƒ‰ã‚¸ãƒ§ã‚¦","ã‚µãƒ³ãƒåˆ‡ã‚Šèº«"],
           lures:["30â€“60gãƒ¡ã‚¿ãƒ«","ãƒ¯ã‚¤ãƒ³ãƒ‰","ãƒã‚¤ãƒ–"], food:"å¡©ç„¼ãï¼å¤©ã·ã‚‰ï¼ç‚™ã‚Šåˆºã—"},

  /* ã‚¯ãƒ­ãƒ€ã‚¤ãƒ»ã‚­ãƒ“ãƒ¬ */
  "ã‚¯ãƒ­ãƒ€ã‚¤": {season:"æ˜¥ãƒãƒƒã‚³ãƒŸï¼‹å¤ç§‹", time:"æ—¥ä¸­ã€œå¤•ï¼ˆæ¿ã‚Šâ—ï¼‰", shelf:"åº•ã€œä¸­å±¤ï¼ˆå£éš›30cmï¼‰",
           methods:["è½ã¨ã—è¾¼ã¿","å‰æ‰“ã¡","ãƒ•ã‚«ã‚»","ã¶ã£ã“ã¿","ãƒ«ã‚¢ãƒ¼"], bait:["ã‚«ãƒ‹","ã‚¤ã‚¬ã‚¤","ã‚ªã‚­ã‚¢ãƒŸ","ã‚³ãƒ¼ãƒ³"],
           lures:["ãƒ†ã‚­ã‚µã‚¹/ãƒ•ãƒªãƒ¼ãƒªã‚°","ãƒã‚¤ãƒ–"], food:"åˆºèº«ï¼å¡©ç„¼ãï¼ç…®ä»˜ã‘"},
  "ã‚­ãƒ“ãƒ¬": {season:"åˆå¤ã€œç§‹", time:"å¤•ã€œå¤œï¼ˆé¢¨æ³¢â—ï¼‰", shelf:"åº•ï¼ˆè­·å²¸ã‚­ãƒ¯ï¼‰",
           methods:["è½ã¨ã—è¾¼ã¿","ãƒãƒ‹ãƒ³ã‚°","ã¶ã£ã“ã¿"], bait:["ã‚«ãƒ‹","é’ã‚¤ã‚½ãƒ¡"],
           lures:["ãƒ†ã‚­ã‚µã‚¹/ãƒ•ãƒªãƒ¼ãƒªã‚°","ã‚·ãƒ£ãƒƒãƒ‰/ã‚¯ãƒ­ãƒ¼"], food:"ã‚«ãƒ«ãƒ‘ãƒƒãƒãƒ§ï¼å¡©ç„¼ã"},

  /* ãƒœãƒ© */
  "ã‚ªãƒœã‚³/ã‚¹ãƒã‚·ãƒª": {season:"æ˜¥ã€œåˆå¤", time:"æ—¥ä¸­", shelf:"è¡¨å±¤",
           methods:["ã‚¦ã‚­","ã‚³ãƒã‚»"], bait:["ãƒ‘ãƒ³","ç·´ã‚Šé¤Œ"], lures:[], food:"ï¼ˆè¦³å¯Ÿãƒ»ãƒªãƒªãƒ¼ã‚¹æ¨å¥¨ï¼‰"},
  "ã‚¤ãƒŠï¼ˆãƒœãƒ©è‹¥é­šï¼‰": {season:"å¤ã€œç§‹", time:"æ—¥ä¸­ã€œå¤•", shelf:"è¡¨å±¤ã€œä¸­å±¤",
           methods:["ãƒ•ã‚«ã‚»","ã‚¦ã‚­","ãƒ«ã‚¢ãƒ¼å¤–é“"], bait:["ãƒ‘ãƒ³","ç·´ã‚Šé¤Œ","ã‚¢ãƒŸ"], lures:["å°å‹ãƒ¡ã‚¿ãƒ«","ãƒŸãƒãƒ¼"], food:"æ´—ã„ï¼å‘³å™Œæ±"},
  "ãƒœãƒ©": {season:"é€šå¹´ï¼ˆå¯’ãƒœãƒ©ã¯å†¬ï¼‰", time:"æ—¥ä¸­ã€œå¤•", shelf:"è¡¨å±¤ã€œä¸­å±¤",
           methods:["ã‚³ãƒã‚»","ã‚¦ã‚­","ãƒ«ã‚¢ãƒ¼å¤–é“"], bait:["ãƒ‘ãƒ³","ç·´ã‚Šé¤Œ","ã‚¢ãƒŸ"], lures:["å°å‹ãƒ¡ã‚¿ãƒ«","ãƒŸãƒãƒ¼"], food:"æ´—ã„ï¼å‘³å™Œæ±ï¼åµã¯ã‚«ãƒ©ã‚¹ãƒŸ"},

  /* æ²³å£ãƒ»é•·ç‰© */
  "ã‚¦ãƒŠã‚®": {season:"åˆå¤ã€œç§‹ï¼ˆâ€»è¦åˆ¶ç¢ºèªå¿…é ˆï¼‰", time:"å¤œï¼ˆé›¨å¾Œãƒ»æ¿ã‚Šâ—ï¼‰", shelf:"åº•ï¼ˆãƒ˜ãƒãƒ»æ³¥åº•ï¼‰",
           methods:["ã¶ã£ã“ã¿"], bait:["ãƒŸãƒŸã‚º/ãƒ‰ãƒ","ãƒã‚¼/ã‚µãƒåˆ‡ã‚Šèº«"], lures:[], food:"ç™½ç„¼ãï¼è’²ç„¼ï¼ˆåœ°åŸŸãƒ«ãƒ¼ãƒ«å³å®ˆï¼‰"},
  "ãƒã‚¢ãƒŠã‚´": {season:"æ™©æ˜¥ã€œå¤ï¼ˆé™¸ï¼‰", time:"æ—¥æ²¡ã€œ21æ™‚å°", shelf:"åº•ï¼ˆç ‚æ³¥åº•ãƒ»èˆ¹é“ï¼‰",
           methods:["ã¶ã£ã“ã¿","èƒ´çªã"], bait:["ã‚¢ã‚ªã‚¤ã‚½ãƒ¡æŸ","ã‚¤ã‚«çŸ­","é’é­šåˆ‡ã‚Šèº«"], lures:[], food:"å¤©ã·ã‚‰ï¼ç…®ã‚¢ãƒŠã‚´ï¼ç™½ç„¼ã"},
  "ã‚¢ã‚«ã‚¨ã‚¤": {season:"å¤ï¼ˆé«˜æ°´æ¸©æœŸï¼‰", time:"æ—¥ä¸­ã€œå¤œ", shelf:"åº•ï¼ˆç ‚æ³¥åº•ãƒ»æ²³å£ï¼‰",
           methods:["ã¶ã£ã“ã¿"], bait:["ã‚µãƒ/ã‚¤ã‚«åˆ‡ã‚Šèº«","è²é¡"], lures:[], food:"ãƒ’ãƒ¬ç…®å‡ã‚Š/å”æšã’ï¼ˆâ€»æ¯’æ£˜æ³¨æ„ï¼‰"},

  /* é ­è¶³é¡ */
  "ã‚¢ã‚ªãƒªã‚¤ã‚«ï¼ˆæ–°å­ï¼‰": {season:"ç§‹ï¼ˆ9â€“11æœˆï¼‰", time:"æœå¤•ã€œå¤œ", shelf:"è¡¨å±¤ã€œä¸­å±¤ï¼ˆè—»å ´ãƒ»å£éš›ï¼‰",
           methods:["ã‚¨ã‚®ãƒ³ã‚°"], bait:[], lures:["ã‚¨ã‚® 2.5â€“3å·"], food:"åˆºèº«ï¼å¤©ã·ã‚‰"},
  "ã‚¢ã‚ªãƒªã‚¤ã‚«ï¼ˆè¦ªã‚¤ã‚«ï¼‰": {season:"æ˜¥ï¼ˆ4â€“6æœˆï¼‰", time:"æœå¤•ã€œå¤œ", shelf:"ä¸­å±¤ï¼ˆã‚„ã‚„æ·±ã‚ï¼‰",
           methods:["ã‚¨ã‚®ãƒ³ã‚°"], bait:[], lures:["ã‚¨ã‚® 3.0â€“3.5å·ï¼‹ã‚·ãƒ³ã‚«ãƒ¼"], food:"åˆºèº«ï¼å¡©ç„¼ãï¼ãƒã‚¿ãƒ¼ç„¼ã"},
  "ãƒ¢ãƒ³ã‚´ã‚¦ã‚¤ã‚«": {season:"ç§‹ã€œæ˜¥", time:"æ—¥ä¸­ä¸­å¿ƒ", shelf:"åº•ä¸Š10â€“20cmï¼ˆç ‚æ³¥åº•ï¼‰",
           methods:["ã‚¨ã‚®ãƒ³ã‚°","ã‚¹ãƒƒãƒ†","ï¼ˆèˆ¹ï¼‰é¤Œå·»ããƒ†ãƒ¼ãƒ©"], bait:[], lures:["ã‚¨ã‚®3.0â€“3.5å·","ã‚¹ãƒƒãƒ†"], food:"å¤©ã·ã‚‰ï¼åˆºèº«ï¼å¢¨ç…®"},
  "ãƒãƒ€ã‚³": {season:"åˆå¤ã€œç§‹ï¼ˆ6â€“8æœˆï¼‰", time:"æ—¥ä¸­", shelf:"åº•ï¼ˆã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ãƒ¼ç›´æ’ƒï¼‰",
           methods:["ã‚¿ã‚³ã‚¨ã‚®","ãƒ†ãƒ³ãƒ¤"], bait:["ã‚«ãƒ‹","ã‚µãƒèº«ï¼ˆãƒ†ãƒ³ãƒ¤ï¼‰"], lures:["ã‚¿ã‚³ã‚¨ã‚®","ã‚¹ãƒƒãƒ†"], food:"èŒ¹ã§ï¼å”æšã’ï¼ã‚¬ãƒ¼ãƒªãƒƒã‚¯ãƒã‚¿ãƒ¼"}
};

/* ========= é‡£ã‚Šå ´DBï¼ˆå‰å›ã©ãŠã‚Šï¼šæ±äº¬éƒ½ã®ä¾‹ï¼‰ ========= */
const DB = [
  { id:"wakasu", pref:"æ±äº¬éƒ½", city:"æ±Ÿæ±åŒº", name:"è‹¥æ´²æµ·æµœå…¬åœ’ï¼ˆæµ·é‡£ã‚Šæ–½è¨­ãƒ»äººå·¥ç£¯ï¼‰",
    address:"æ±äº¬éƒ½æ±Ÿæ±åŒºè‹¥æ´²3ä¸ç›®",
    map:"https://maps.google.com/?q=%E8%8B%A5%E6%B4%B2%E6%B5%B7%E6%BF%B1%E5%85%AC%E5%9C%92%20%E6%B5%B7%E9%87%A3%E3%82%8A%E6%96%BD%E8%A8%AD",
    zones:[ {type:"å ¤é˜²", fishes:["è±†ã‚¢ã‚¸","ã‚¢ã‚¸","ã‚¤ãƒ¯ã‚·","ã‚³ãƒã‚·ãƒ­","ãƒ¡ãƒãƒ«","ã‚·ãƒ¼ãƒã‚¹","ã‚µãƒ","ã‚µãƒ¨ãƒª"]},
            {type:"ãƒ†ãƒˆãƒ©/äººå·¥ç£¯", fishes:["ã‚«ã‚µã‚´","ãƒ¡ãƒãƒ«","ã‚·ãƒ¼ãƒã‚¹"]}],
    methods:["ã‚µãƒ“ã‚­","ãƒ­ã‚±ãƒƒãƒˆã‚µãƒ“ã‚­","ã¡ã‚‡ã„æŠ•ã’","æŠ•ã’","ã‚¦ã‚­","ãƒ«ã‚¢ãƒ¼","ãƒ«ã‚¢ãƒ¼(è»½é‡)","èƒ´çªã","ãƒ–ãƒ©ã‚¯ãƒª","ãƒŸãƒ£ã‚¯é‡£ã‚Š","ãƒ•ã‚«ã‚»","ã¶ã£ã“ã¿","ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼","ã‚¸ã‚®ãƒ³ã‚°","ãƒ†ãƒ³ãƒ¤","ãƒ¯ã‚¤ãƒ³ãƒ‰","ã‚¨ã‚®ãƒ³ã‚°"],
    shelf:"å ¤é˜²è§’ã®æ˜æš—ï¼äººå·¥ç£¯ã®çŸ³é–“ï¼ˆç©´æ‰“ã¡ï¼‰ï¼è¡¨å±¤ã€œä¸­å±¤å›éŠ",
    times:"æœå¤•ãƒã‚ºãƒ¡ã¨ãƒŠã‚¤ãƒˆæœ‰åˆ©", rules:"å®‰å…¨æŸµã‚ã‚Šãƒ»æ··é›‘å¤šã‚ã€‚ãƒ©ã‚¤ãƒ•ã‚¸ãƒ£ã‚±ãƒƒãƒˆæ¨å¥¨ã€‚" },
  { id:"toyosu-gururi", pref:"æ±äº¬éƒ½", city:"æ±Ÿæ±åŒº", name:"è±Šæ´²ãã‚‹ã‚Šå…¬åœ’ï¼ˆè­·å²¸ï¼‰",
    address:"æ±Ÿæ±åŒºè±Šæ´²6ä¸ç›®ã»ã‹",
    map:"https://maps.google.com/?q=%E8%B1%8A%E6%B4%B2%E3%81%90%E3%82%8B%E3%82%8A%E5%85%AC%E5%9C%92",
    zones:[ {type:"è­·å²¸", fishes:["ãƒã‚¼","ã‚»ã‚¤ã‚´","ãƒ¡ãƒãƒ«","ã‚«ã‚µã‚´","ã‚¯ãƒ­ãƒ€ã‚¤","ã‚µãƒ¨ãƒª","ã‚³ãƒã‚·ãƒ­"]}],
    methods:["ãƒŸãƒ£ã‚¯é‡£ã‚Š","ãƒ˜ãƒãƒ»è½ã¨ã—è¾¼ã¿","ãƒ«ã‚¢ãƒ¼","ãƒ«ã‚¢ãƒ¼(è»½é‡)","ã‚¦ã‚­","ã¡ã‚‡ã„æŠ•ã’","ã¶ã£ã“ã¿","ãƒ•ã‚«ã‚»"],
    shelf:"æŸµéš›ã®ã‚­ãƒ¯ï¼æ©‹ãƒ»å¸¸å¤œç¯ã®æ˜æš—ï¼è¶³å…ƒã®ã‚«ã‚±ä¸ŠãŒã‚Š",
    times:"ãƒã‚¼ã¯æ—¥ä¸­ã€ã‚·ãƒ¼ãƒã‚¹ã¯å¤œã®æ˜æš—", rules:"æ’’ãé¤Œ/ãƒˆãƒªãƒƒã‚¯ã‚µãƒ“ã‚­/ãƒ­ã‚±ãƒƒãƒˆå¤©ç§¤ç¦æ­¢ã€‚æ­©è¡Œè€…æœ€å„ªå…ˆã€‚" },
  // ...ï¼ˆä»–ã‚¹ãƒãƒƒãƒˆã¯å‰å›ã©ãŠã‚Šã€‚çœç•¥å¯ï¼‰
];

/* éƒ½é“åºœçœŒä¸€è¦§ */
const PREFS = [...new Set(DB.map(p=>p.pref))];

/* ========= çŠ¶æ…‹ã¨ã‚¹ãƒ†ãƒƒãƒ— ========= */
const state = { step:0, pref:null, placeId:null, zoneIdx:null, fish:null, subMethod:null };
const stepsTitle = ["éƒ½é“åºœçœŒ","é‡£ã‚Šå ´","ãƒã‚¤ãƒ³ãƒˆç¨®åˆ¥","é­šç¨®","çµæœ"];

function setSteps(){
  const s = document.getElementById('steps');
  s.innerHTML = stepsTitle.map((t,i)=>`<div class="step ${i<=state.step?'on':''}">${i+1}. ${t}</div>`).join('');
  document.getElementById('back').hidden = state.step===0;
}

/* ========= ç”»é¢æç”» ========= */
function render(){
  setSteps();
  const app = document.getElementById('app');

  // 0: éƒ½é“åºœçœŒ
  if(state.step===0){
    app.innerHTML = `<div class="hero"><strong>éƒ½é“åºœçœŒ</strong> ã‚’é¸ã¶ã¨ã€ãã®åœ°åŸŸã®é‡£ã‚Šå ´ãŒå‡ºã¾ã™ã€‚</div>
    <div class="grid">
      ${PREFS.map(p=>{
        const n = DB.filter(d=>d.pref===p).length;
        return `<div class="card">
          <h3>${p}</h3>
          <p class="muted">${n} ã‚¹ãƒãƒƒãƒˆ</p>
          <div class="row"><button class="pri" onclick="selPref('${p}')">ã“ã®éƒ½é“åºœçœŒã‚’é¸ã¶</button></div>
        </div>`}).join('')}
    </div>`;
    return;
  }

  // 1: é‡£ã‚Šå ´
  if(state.step===1){
    const list = DB.filter(d=>d.pref===state.pref);
    app.innerHTML = `<div class="grid">
      ${list.map(d=>`
        <div class="card">
          <h3>${d.name}</h3>
          <div class="kv"><span>${d.pref} ${d.city||""}</span><span>${d.address||""}</span></div>
          <div class="row">
            <button class="ghost" onclick="openMap('${d.id}')">åœ°å›³ã‚’é–‹ã</button>
            <button class="pri" onclick="selPlace('${d.id}')">ã“ã“ã‚’é¸ã¶</button>
          </div>
        </div>`).join('')}
    </div>`;
    return;
  }

  // 2: ãƒã‚¤ãƒ³ãƒˆç¨®åˆ¥
  if(state.step===2){
    const p = getPlace();
    app.innerHTML = `
      <div class="card">
        <h3>${p.name}ï½œãƒã‚¤ãƒ³ãƒˆã‚’é¸ã¶</h3>
        <div class="chips">
          ${p.zones.map((z,idx)=>`<button class="chip" onclick="selZone(${idx})">${z.type}</button>`).join('')}
        </div>
      </div>`;
    return;
  }

  // 3: é­šç¨®ï¼ˆãƒã‚¤ãƒ³ãƒˆã§çµã‚Šè¾¼ã¿ï¼‰
  if(state.step===3){
    const z = getZone();
    app.innerHTML = `
      <div class="card">
        <h3>${getPlace().name}ï½œ${z.type}ï½œé­šç¨®ã‚’é¸ã¶</h3>
        <div class="chips">
          ${z.fishes.map(f=>`<button class="chip" onclick="selFish('${f}')">${f}</button>`).join('')}
        </div>
      </div>`;
    return;
  }

  // 4: çµæœï¼ˆé‡£ã‚Šæ–¹ã¯ã“ã“ã§ãƒãƒƒãƒ—åˆ‡æ›¿ï¼‰
  if(state.step===4){
    app.innerHTML = renderResult();
    return;
  }
}

function renderResult(){
  const p = getPlace(), z = getZone(), f = state.fish;
  const info = FISH_BOOK[f] || {};
  const placeMethods = (p.methods||[]);
  const allowed = (info.methods||[]).filter(m => placeMethods.includes(m));
  if(!state.subMethod) state.subMethod = allowed[0] || null;

  // ç”»åƒï¼šé­š & ä»•æ›ã‘
  const fimg = fishImg(f);
  const rimg = rigImg(f, state.subMethod);

  // ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ”ãƒ«
  const params = `
    <div class="params">
      <div class="param"><b>ã‚·ãƒ¼ã‚ºãƒ³</b> ${info.season||"â€”"}</div>
      <div class="param"><b>æ™‚é–“å¸¯</b> ${info.time||"â€”"}</div>
    </div>`;

  // é‡£æ³•ãƒãƒƒãƒ—ï¼ˆãƒšãƒ¼ã‚¸å†…åˆ‡æ›¿ï¼‰
  const methodChips = `
    <div class="chips method-chips">
      ${allowed.map(m=>`<button class="chip ${m===state.subMethod?'on':''}" onclick="pickMethod('${m}')">${m}</button>`).join('') || '<p class="muted">ã“ã®å ´æ‰€ã§æ¨å¥¨ã•ã‚Œã‚‹é‡£æ³•ãƒ‡ãƒ¼ã‚¿ãŒæœªè¨­å®šã§ã™</p>'}
    </div>`;

  // ã‚ªã‚¹ã‚¹ãƒ¡éƒ¨æï¼šé­šå›ºæœ‰ + é‡£æ³•å®šç¾©ã‹ã‚‰ç”Ÿæˆ
  const gearWords = new Set([...(info.gear||[])]);
  (METHOD_GEAR[state.subMethod]||[]).forEach(w=>gearWords.add(w));
  const gearList = [...gearWords].slice(0,6);

  // é¤Œãƒ»æ’’ãé¤Œï¼šé­šå›ºæœ‰ã®é¤Œ + é‡£æ³•åˆ¥ã®é¤Œææ¡ˆ
  const baitWords = new Set([...(info.bait||[])]);
  (BAIT_BY_METHOD[state.subMethod]||[]).forEach(w=>baitWords.add(w));
  const baitList = [...baitWords];

  // ãƒ«ã‚¢ãƒ¼ï¼ˆé­šå›ºæœ‰ï¼‰
  const lureList = info.lures||[];

  return `
  <div class="card">
    <div class="sectionTitle">æŒ‡å®šã—ãŸé­šç”»åƒ â†“</div>
    <img class="banner" src="${fimg}" alt="${f}" onerror="this.onerror=null;this.src='${FISH_IMG_FALLBACK}';">

    <div class="sectionTitle">ä»•æ›ã‘ã‚¤ãƒ©ã‚¹ãƒˆ â†“</div>
    <img class="banner" src="${rimg.specific}" alt="${state.subMethod||''} rig"
         onerror="if(this.src.indexOf('rig-')>-1){this.src='${rimg.generic}';this.onerror=function(){this.src='${rimg.placeholder}';}}">

    <h3 style="margin-top:10px">${p.name}</h3>
    <div class="kv"><span>${z.type}</span><span>é­šç¨®ï¼š${f}</span></div>
    ${params}

    <div class="sectionTitle">ã“ã®å ´æ‰€ã§ã®æ¨å¥¨é‡£ã‚Šæ–¹ï¼ˆåˆ‡ã‚Šæ›¿ãˆå¯ï¼‰</div>
    ${methodChips}

    <div class="sectionTitle">ã‚ªã‚¹ã‚¹ãƒ¡éƒ¨æ â†“</div>
    ${gearList.length?`<ul class="items">
      ${gearList.map(w=>`<li>${w}
        <div class="shops">
          <a class="shop" href="#" onclick="ext('${linkAmazon(w)}')">Amazon</a>
          <a class="shop" href="#" onclick="ext('${linkRakuten(w)}')">æ¥½å¤©</a>
        </div>
      </li>`).join('')}
    </ul>`:'<p class="muted">æº–å‚™ä¸­</p>'}

    <div class="sectionTitle">é¤Œãƒ»æ’’ãé¤Œã®ã‚ªã‚¹ã‚¹ãƒ¡ â†“</div>
    ${baitList.length?`<ul class="items">
      ${baitList.map(w=>`<li>${w}
        <div class="shops">
          <a class="shop" href="#" onclick="ext('${linkAmazon(w)}')">Amazon</a>
          <a class="shop" href="#" onclick="ext('${linkRakuten(w)}')">æ¥½å¤©</a>
        </div>
      </li>`).join('')}
    </ul>`:'<p class="muted">æº–å‚™ä¸­</p>'}

    ${lureList.length?`<div class="sectionTitle">ãƒ«ã‚¢ãƒ¼å€™è£œ â†“</div>
      <ul class="items">
        ${lureList.map(w=>`<li>${w}
          <div class="shops">
            <a class="shop" href="#" onclick="ext('${linkAmazon(w)}')">Amazon</a>
            <a class="shop" href="#" onclick="ext('${linkRakuten(w)}')">æ¥½å¤©</a>
          </div>
        </li>`).join('')}
      </ul>`:''}

    <div class="sectionTitle">æ£šã€ç‹™ã„ç›® â†“</div>
    <p>${(FISH_BOOK[f]?.shelf)||p.shelf||'â€”'}</p>

    <div class="sectionTitle">ãŠã™ã™ã‚æ™‚é–“å¸¯ â†“</div>
    <p>${(FISH_BOOK[f]?.time)||p.times||'â€”'}</p>

    <div class="sectionTitle">ç¾åœ°ãƒ«ãƒ¼ãƒ«ï¼ˆå‚™è€ƒï¼‰ â†“</div>
    <p class="muted">${p.rules||'å®‰å…¨ç¬¬ä¸€ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚'}</p>

    <div class="sectionTitle">å ´æ‰€ã¨å‹ã ã¡å…±æœ‰</div>
    <div class="row" style="margin-top:6px">
      <button class="ghost" onclick="openMap('${p.id}')">å ´æ‰€ã‚’åœ°å›³ã§ç¢ºèª</button>
      <button class="pri" onclick="share()">å‹ã ã¡ã«å…±æœ‰</button>
    </div>

    <p class="cap">é£Ÿã¹æ–¹ãƒ’ãƒ³ãƒˆï¼š${(FISH_BOOK[f]?.food)||'â€”'}</p>
  </div>`;
}

/* ========= ãƒãƒ³ãƒ‰ãƒ© ========= */
function getPlace(){ return DB.find(p=>p.id===state.placeId); }
function getZone(){ const p = getPlace(); return p?.zones?.[state.zoneIdx]; }
function openWin(url){ return liff.isInClient()? liff.openWindow({url, external:true}) : window.open(url,'_blank'); }
function openMap(pid){ const url = DB.find(p=>p.id===pid).map; openWin(url); }
function ext(url){ openWin(url); }

function selPref(p){ state.pref=p; state.step=1; render(); }
function selPlace(id){ state.placeId=id; state.step=2; render(); }
function selZone(idx){ state.zoneIdx=idx; state.step=3; render(); }
function selFish(f){ state.fish=f; state.subMethod=null; state.step=4; render(); }
function pickMethod(m){ state.subMethod=m; document.getElementById('app').innerHTML = renderResult(); }

function goBack(){
  if(state.step===0) return;
  if(state.step===1){ state.pref=null; }
  if(state.step===2){ state.placeId=null; }
  if(state.step===3){ state.zoneIdx=null; }
  if(state.step===4){ state.fish=null; state.subMethod=null; }
  state.step--; render();
}

/* ===== LIFF èµ·å‹• ===== */
(async()=>{
  await liff.init({ liffId: LIFF_ID });
  if (liff.isInClient()){
    if(!liff.isLoggedIn()){ liff.login({ prompt:"consent" }); return; }
    try{
      const p = await liff.getProfile();
      document.getElementById('hello').textContent = `ã‚ˆã†ã“ã ${p.displayName} ã•ã‚“`;
    }catch{ document.getElementById('hello').textContent = "ã‚ˆã†ã“ãï¼"; }
  }else{
    document.getElementById('hello').textContent = "ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¸­";
  }
  render();
})();

async function share(){
  if(!liff.isInClient()){ alert('å…±æœ‰ã¯LINEã‚¢ãƒ—ãƒªå†…ã§é–‹ã„ã¦ãã ã•ã„'); return; }
  const p = getPlace(), z = getZone();
  const f = state.fish, m = state.subMethod||'';
  const msg = `${p.name}\n${z.type}\n${f}${m?` Ã— ${m}`:''}\nå­£ç¯€:${FISH_BOOK[f]?.season||'-'}ï¼æ™‚é–“å¸¯:${FISH_BOOK[f]?.time||'-'}\næ£š:${FISH_BOOK[f]?.shelf||p.shelf||'-'}\nåœ°å›³:${p.map}`;
  await liff.shareTargetPicker([{ type:'text', text: msg }]);
}
</script>
</body>
</html>
